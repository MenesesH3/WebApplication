@model IEnumerable<WebApplication1.Models.Ocorrenciaview>

@{
	ViewData["Title"] = "Index";

	Pager pager = new Pager();
	int pageNo = 0;
	if (ViewBag.SearchPager != null)
	{
		pager = ViewBag.SearchPager;
		pageNo = pager.CurrentPage;
	}

}


<table class="table">
	<thead style="background-color:royalblue; color:white">
		<tr>
			<th>
				@Html.DisplayNameFor(model => model.Id)
			</th>
			<th>
				Tipo de ocorrêcia
			</th>
			<th>
				Ocorreu em
			</th>
			<th>
				Transportador / CNPJ
			</th>
			<th>
				Já solucionado
			</th>
			<th>
				Dias em aberto
			</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
		@if (Model.Count() > 0)
		{
			@foreach (var item in Model)
			{
				<tr>
					<td>
						@Html.DisplayFor(modelItem => item.Id)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.CodigoTipo) - @Html.DisplayFor(modelItem => item.Descricaotipo)
					</td>
					<td>
						@item.OcorreuEm.ToString("dd/MM/yyyy")
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.DescricaoTransportador) - @Html.DisplayFor(modelItem => item.CnpjTrasnportador)
					</td>
					<td>
						@if (item.SolucaoEm != null)
						{
							<i class="fa fa-thumbs-up" style="color:green;"></i>

						}
						else
						{
							<i class="fa fa-thumbs-down" style="color:red;"></i>
						}
					</td>
					<td>
						@DateTime.Now.Subtract(item.OcorreuEm).Days
					</td>
					<td>
						|
						<a asp-action="Details" asp-route-id="@item.Id">Ver</a> |
					</td>
				</tr>
			}
		}
		else
		{
			<tr>
				<td class="justify-content-center">
					Nenhum dado encontrado! Redefina a busca
				</td>
			</tr>
		}
	</tbody>
</table>

<partial name="_pager" model="@pager" />